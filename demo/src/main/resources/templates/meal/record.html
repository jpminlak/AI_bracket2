<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <meta charset="UTF-8">
    <title>내 식단 기록</title>
    <!-- 정적 리소스: src/main/resources/static/main.css -> /main.css -->
    <link rel="stylesheet" th:href="@{/main.css}">
    <style>
        .wrap {
            max-width: 1000px;
            margin: 24px auto;
            font-family: system-ui, sans-serif
        }

        h2 {
            font-size: 22px;
            margin: 8px 0 16px
        }

        .empty {
            color: #666;
            background: #fafafa;
            border: 1px dashed #ddd;
            border-radius: 10px;
            padding: 16px
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: #fff;
            border-radius: 12px;
            overflow: hidden
        }

        th,
        td {
            padding: 12px;
            border-bottom: 1px solid #eee;
            vertical-align: top
        }

        th {
            background: #f6f7fb;
            text-align: left;
            font-weight: 600
        }

        tbody tr:hover {
            background: #fafcff
        }

        .menu {
            white-space: pre-line
        }
    </style>
</head>

<body>
    <header th:replace="~{common:: header}"></header>

    <div class="wrap">
        <h2>내 식단 기록</h2>

        <!-- 비어있을 때 안내 -->
        <div th:if="${#lists.isEmpty(diets)}" class="empty">
            아직 저장된 식단이 없습니다. 추천 결과에서 저장을 눌러 보세요.
        </div>

        <!-- 전체 리스트 테이블 -->
        <table th:if="${!#lists.isEmpty(diets)}" class="ask-table">
            <thead>
                <tr>
                    <th>번호</th>
                    <th>아침</th>
                    <th>점심</th>
                    <th>저녁</th>
                    <th>총칼로리</th>
                    <!-- 생성시각 필드가 있으면 아래 두 줄 주석 해제 -->
                    <!-- <th>저장시각</th> -->
                </tr>
            </thead>
            <tbody>
                <tr th:each="d, i : ${diets}">
                    <td th:text="${i.index + 1}">1</td>
                    <td th:text="${d.breakfast}">-</td>
                    <td th:text="${d.lunch}">-</td>
                    <td th:text="${d.dinner}">-</td>
                    <td th:text="${d.totalKcal} + ' kcal'">0 kcal</td>
                    <!-- <td th:text="${#temporals.format(d.createdAt, 'yyyy-MM-dd HH:mm')}">-</td> -->
                </tr>
            </tbody>
        </table>

        <!-- </sec:authorize> -->
    </div>

    <footer th:replace="~{common:: footer}"></footer>
</body>

</html>